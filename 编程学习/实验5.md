```
#include <stdio.h>
float get_ave(int sum[], int index) {
    return sum[index] / 3.0;
}
int sort(int score[][3],int num[], int sum[],float ave[], int i)
{
    for (int x =0;x < i; x++)
    {
        for (int k = 0; k < i - x - 1; k++) {
            if (sum[k] < sum[k + 1]) {
                int temp = sum[k];
                sum[k] = sum[k + 1];
                sum[k + 1] = temp;
                temp = num[k];
                num[k] = num[k + 1];
                num[k + 1] = temp;
                int temp2 = ave[k];
                ave[k] = ave[k + 1];
                ave[k + 1] = temp2;

                for (int y = 0; y < 3; y++) {
                    int temp1 = score[k][y];
                    score[k][y] = score[k + 1][y];
                    score[k + 1][y] = temp1;
                }

            }
        }
    }
    printf ("ranking\tnumber\t  MT\t  EN\t  PH\tTotal score\t average\n");
    for (int z = 0; z < i; z++) {
        printf("%d\t\t%d\t%d\t%d\t%d\t%d\t\t%.2f\n", z + 1, num[z], score[z][0], score[z][1], score[z][2], sum[z], ave[z]);
    }
}
int main()
{
    int score[15][3];
    int num[15] = {1,2,3,4,5,6,7,8,9,10,11,12,13,14,15};
    int sum[15] ={0};
    float ave[15]= {0};
for (int i = 0; i < 15; i++) {
    for (int j = 0; j < 3; j++) {
        if (j == 0){
            printf("pls input the MT score of the %d student:",i + 1);
        }
        else if (j == 1) {
            printf("pls input the EN score of the %d student:", i + 1);
        }
        else {
            printf("pls input the PH score of the %d student:", i + 1);
        }
 scanf("%d", &score[i][j]);
        sum[i] += score[i][j];
    }
    ave [i] = get_ave(sum, i);
}
sort (score, num, sum, ave, 15);
printf ("would u like to Check the grades and rank of anyone?(Y|N)\n");
char check;
scanf(" %c", &check);
if (check == 'Y' || check == 'y')
{
    printf ("pls input the number of the student who u want to check:\n");
    int check_num;
    scanf("%d", &check_num);
        if (check_num > 15 || check_num < 1)
        {
            printf("error number!\ndon't be joke!\nget out!");
            return -1;
        }
        else
        {
    printf ("the total score and his rank in the class of the %d student is:", check_num);
    printf("%d,%d\n", sum[check_num - 1],num[check_num - 1]);
    printf("the the MT EN PH score of the student is:\n");
    for (int i = 0; i < 3; i++)
    {
        printf("%d\t", score[check_num - 1][i]);
    }
    printf("\n");
            return  0;
        }
}
else
    return 0;
}
```

